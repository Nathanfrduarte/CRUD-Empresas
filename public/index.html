<!-- View principal -->
<!doctype html>
<!-- ESPECIFICANDO NOSSO MÓDULO ANGULAR listaEmpresas -->
<html ng-app="listaEmpresas">

<head>
    <meta charset="utf-8">
    <!-- Otimizar a exibição em dispositivos móveis -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lista de Empresas</title>
    <!-- Bootstrap-->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/ libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/9504a249a5.js" crossorigin="anonymous"></script>
    <style>
        html {
            overflow-y: auto;
        }

        body {
            padding-top: 20px;
        }

        #lista-empresas {
            margin-bottom: 50px;
        }

        form button {
            margin-top: 25px;
        }

        /* form .form-group:first-child {
            padding-left: 0;
        } */
    </style>
    <!-- JavaScript -->
    <!-- Biblioteca jQuery -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <!-- Biblioteca AngularJS -->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
    <script src="js/angularApp.js"></script>
</head>
<!-- DEFINE O CONTROLLER E BUSCA TODOS OS CONTATOS -->
<body ng-controller="mainController">
    <div class="container">

        <!-- CABEÇALHO E TOTAL DE CONTATOS -->
        <div class="jumbotron text-center">
            <h1>Lista de Empresas <span class="label label-info">{{ empresas.length }}</span></h1>
        </div>

        <!-- <center>
                <button type="submit" class="btn btn-success" onclick="window.location.href='projeto.html';">Projeto</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <button type="submit" class="btn btn-success" onclick="window.location.href='colaborador.html';">Colaborador/Avaliador</button><br><br>                
            </center> -->

        <!-- LISTA DE CONTATOS -->
        <div id="lista-empresas" class="table-responsive">
            <table class="table table-dark table-hover">
                <thead>
                    <tr class="active">
                        <th>Nome da empresa</th>
                        <th>CNPJ</th>
                        <th>Responsável</th>
                        <th>E-mail</th>
                        <th>Telefone</th>
                        <th>Conta Criada</th>
                        <th>Opções</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- LOOP PARA CARREGAR TODOS OS CONTATOS EM $scope.contatos -->
                    <tr ng-repeat="empresa in empresas">
                        <td>{{ empresa.nome }}</td>
                        <td>{{ empresa.cnpj }}</td>
                        <td>{{ empresa.responsavel }}</td>
                        <td>{{ empresa.email }}</td>
                        <td>{{ empresa.telefone }}</td>
                        <td>{{ empresa.contaCriada }}</td>
                        <td>
                            <!-- Botões com Opções-->
                            <button type="button" class="btn btn-primary fa fa-pencil-square-o"
                                ng-click="editarEmpresa(empresa._id)"></button> 
                            <button type="button" class="btn btn-danger fa fa-trash-o"
                                ng-click="deletarEmpresa(empresa._id)"></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- FORMULÁRIO PARA CRIAÇÃO DE UM NOVO CONTATO -->
        <div id="empresa-form">
            <hr>
            <h2 class="text-center">Cadastro</h2>
            <hr>
            <form>
                <!-- 1° linha de campos -->
                <div class="row">
                    <div class="form-group col-md-3">
                        <label for="nomeEmpresa">Nome da Empresa</label>
                        <input type="text" class="form-control" id="nomeEmpresa" placeholder="Stark Industries"
                            ng-model="formEmpresa.nome">
                    </div>

                    <div class="form-group col-md-2">
                        <label for="cnpjEmpresa">CNPJ</label>
                        <input type="text" class="form-control" id="cnpjEmpresa" placeholder="xx.xxx.xxx/yyyy-zz"
                            ng-model="formEmpresa.cnpj">
                    </div>

                    <div class="form-group col-md-3">
                        <label for="responsavelEmpresa">Responsável</label>
                        <input type="text" class="form-control" id="responsavelEmpresa" placeholder="Tony Stark"
                            ng-model="formEmpresa.responsavel">
                    </div>

                    <div class="form-group col-md-2">
                        <label for="cpfEmpresa">CPF</label>
                        <input type="text" class="form-control" id="cpfEmpresa" placeholder="xxx.xxx.xxx-xx"
                            ng-model="formEmpresa.cpf">
                    </div>

                    <div class="form-group col-md-2">
                        <label for="telefoneEmpresa">Telefone</label>
                        <input type="text" class="form-control" id="telefoneEmpresa" placeholder="(xx) xxxx-xxxx"
                            ng-model="formEmpresa.telefone">
                    </div>

                </div>
                <!-- 2° linha de campos -->
                <div class="row">
                    <div class="form-group col-md-3">
                                <label for="emailEmpresa">E-mail</label>
                                <input type="text" class="form-control" id="emailEmpresa" placeholder="email@email.com"
                                    ng-model="formEmpresa.email">
                    </div>

                    <div class="form-group col-md-5">
                        <label for="enderecoEmpresa">Endereço</label>
                        <input type="text" class="form-control" id="enderecoEmpresa" placeholder="Avenue, 7, NY, EUA"
                            ng-model="formEmpresa.endereco">
                    </div>

                    <div class="form-group col-md-2">
                            <label for="contaCriadaEmpresa">Conta Criada</label>
                            <input type="text" class="form-control" id="contaCriadaEmpresa" placeholder="Sim ou Não"
                                ng-model="formEmpresa.contaCriada">
                    </div>

                    <!-- <div class="form-group col-md-4">
                        <label for="bancoEmpresa">Banco</label>
                        <input type="text" class="form-control" id="bancoEmpresa" placeholder="Wells Fargo"
                            ng-model="formEmpresa.banco">
                    </div>

                    <div class="form-group col-md-1">
                        <label for="agenciaEmpresa">Agência</label>
                        <input type="text" class="form-control" id="agenciaEmpresa" placeholder="xxxx"
                            ng-model="formEmpresa.agencia">
                    </div>

                    <div class="form-group col-md-2">
                        <label for="contaEmpresa">Conta</label>
                        <input type="text" class="form-control" id="contaEmpresa" placeholder="xxxxxxxx-x"
                            ng-model="formEmpresa.conta">
                    </div> -->

                </div>

                <!-- Botões de Criar e Atualizar -->
                <div class="row">
                    <div class="form-group col-md-4 text-left">
                        <button type="reset" class="btn btn-secondary"><span class="fa fa-undo"></span> Limpar</button>
                        <a href="https://www.mercadopago.com.br/registration-mp?mode=mp&utm_source=ParceiroLI&utm_medium=parceria&utm_campaign=Loja_Integrada" target="_blank" class="btn btn-primary" style="margin-top: 25px;"><span class="fa fa-star"></span> Criar Conta</a>
                        <!-- <button type="button" class="btn btn-primary" ng-click="gerarConta()"><span class="fa fa-star"></span> Criar Conta</button>    -->
                    </div>
                    <div class="form-group col-md-8 text-right">
                        <button type="submit" class="btn btn-success" ng-click="criarEmpresa()"><span class="fa fa-check"></span> Salvar</button>
                        <button type="submit" class="btn btn-info" ng-click="atualizarEmpresa()"><span class="fa fa-refresh"></span> Atualizar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</body>

</html>